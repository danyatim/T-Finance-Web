# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üîí –ß–µ–∫–ª–∏—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

#### ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:
- JWT —Ç–æ–∫–µ–Ω—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- HttpOnly cookies –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤
- Secure cookies (—Ç–æ–ª—å–∫–æ HTTPS)
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —á–µ—Ä–µ–∑ PasswordHasher
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π issuer/audience

#### ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å/—É–ª—É—á—à–∏—Ç—å:

1. **JWT Secret Key**
   - ‚ùå **–ö–†–ò–¢–ò–ß–ù–û**: –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `appsettings.json` –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
   - ‚úÖ **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ —Å–µ–∫—Ä–µ—Ç—ã
   ```bash
   # –í docker-compose.yml –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞:
   environment:
     - Jwt__Key=${JWT_SECRET_KEY}
   ```

2. **Rate Limiting**
   - ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
   - ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞

3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é email, –ø–∞—Ä–æ–ª—è, –ª–æ–≥–∏–Ω–∞
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ email

### 2. –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

#### ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:
- HTTPS —Å TLS 1.2/1.3
- Security headers –≤ nginx
- Data Protection –¥–ª—è –∫–ª—é—á–µ–π

#### ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **SQL Injection**
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Entity Framework (–∑–∞—â–∏—Ç–∞ –æ—Ç SQL injection)
   - ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î

2. **XSS (Cross-Site Scripting)**
   - ‚úÖ Security headers –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
   - ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞

3. **CSRF (Cross-Site Request Forgery)**
   - ‚ö†Ô∏è SameSite=None –º–æ–∂–µ—Ç –±—ã—Ç—å —É—è–∑–≤–∏–º–æ—Å—Ç—å—é
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SameSite=Strict –¥–ª—è production

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–µ–∫—Ä–µ—Ç—ã

#### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–°–µ–∫—Ä–µ—Ç—ã –≤ –∫–æ–¥–µ**
   - JWT –∫–ª—é—á –≤ `appsettings.json`
   - –ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

2. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–∞—Ä–æ–ª–∏ –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–æ–∫–µ–Ω—ã –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

### 4. –°–µ—Ç–µ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:
- HTTPS –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
- Security headers
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è dev

#### ‚ö†Ô∏è –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **Docker security**
   - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ—Ç root (—Ö–æ—Ä–æ—à–æ)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å exposed ports

2. **Firewall**
   - –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã (80, 443)

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞

#### .NET (Backend):
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Security Code Scan
dotnet tool install --global security-scan

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑
cd T-FinanceBackend
security-scan

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SonarQube
dotnet sonarscanner begin /k:"T-Finance"
dotnet build
dotnet sonarscanner end
```

#### Frontend (JavaScript/TypeScript):
```bash
# ESLint —Å security –ø–ª–∞–≥–∏–Ω–æ–º
npm install --save-dev eslint-plugin-security

# npm audit –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm audit
npm audit fix
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### .NET:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ NuGet –ø–∞–∫–µ—Ç–∞—Ö
dotnet list package --vulnerable

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OWASP Dependency-Check
```

#### Node.js:
```bash
# npm audit
npm audit
npm audit fix

# Snyk (–±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑)
npm install -g snyk
snyk test
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### OWASP ZAP (Zed Attack Proxy):
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å ZAP –≤ Docker
docker run -t owasp/zap2docker-stable zap-baseline.py \
  -t https://t-finance-web.ru
```

#### Burp Suite:
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- Community Edition –±–µ—Å–ø–ª–∞—Ç–µ–Ω

#### SQLMap (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ SQL injection):
```bash
sqlmap -u "https://t-finance-web.ru/api/auth/login" \
  --data="{\"LoginOrEmail\":\"test\",\"Password\":\"test\"}" \
  --headers="Content-Type: application/json"
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL/TLS

```bash
# SSL Labs SSL Test
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: https://www.ssllabs.com/ssltest/analyze.html?d=t-finance-web.ru

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
openssl s_client -connect t-finance-web.ru:443 -servername t-finance-web.ru
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å curl
curl -I https://t-finance-web.ru

# –ò–ª–∏ –æ–Ω–ª–∞–π–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
# https://securityheaders.com/?q=https://t-finance-web.ru
```

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:
- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–æ–π—Ç–∏ —Å –Ω–µ–≤–µ—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è –æ—à–∏–±–∫–∞)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å logout (—Ç–æ–∫–µ–Ω—ã –¥–æ–ª–∂–Ω—ã —É–¥–∞–ª—è—Ç—å—Å—è)

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º –±–µ–∑ —Ç–æ–∫–µ–Ω–∞
- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ (Premium vs User)

### –í–∞–ª–∏–¥–∞—Ü–∏—è:
- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å SQL injection –≤ –ø–æ–ª—è—Ö –≤–≤–æ–¥–∞
- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å XSS –≤ –ø–æ–ª—è—Ö –≤–≤–æ–¥–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é email/–ø–∞—Ä–æ–ª—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É –ø–æ–ª–µ–π

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç—ã –Ω–µ –≤ –∫–æ–¥–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ (–Ω–µ—Ç –ø–∞—Ä–æ–ª–µ–π/—Ç–æ–∫–µ–Ω–æ–≤)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 1. –î–æ–±–∞–≤–∏—Ç—å Rate Limiting

```csharp
// –í Program.cs –¥–æ–±–∞–≤–∏—Ç—å:
builder.Services.AddRateLimiter(options =>
{
    options.AddFixedWindowLimiter("login", opt =>
    {
        opt.Window = TimeSpan.FromMinutes(1);
        opt.PermitLimit = 5;
    });
});
```

### 2. –£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–∞—Ä–æ–ª–µ–π

```csharp
// –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–∞—Ä–æ–ª—é
- –ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤
- –•–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞
- –•–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Ü–∏—Ñ—Ä–∞
- –•–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤

```yaml
# docker-compose.yml
environment:
  - Jwt__Key=${JWT_SECRET_KEY}
  - Jwt__Issuer=${JWT_ISSUER}
  - Jwt__Audience=${JWT_AUDIENCE}
```

### 4. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```csharp
// –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å:
- –ù–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞
- –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–∞–≤–∞—Ö –¥–æ—Å—Ç—É–ø–∞
```

### 5. –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# .NET
dotnet list package --outdated
dotnet add package <package> --version <latest>

# Node.js
npm outdated
npm update
```

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **JWT Secret –≤ appsettings.json** - –ö–†–ò–¢–ò–ß–ù–û
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Rate Limiting** - –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢
3. **SameSite=None –¥–ª—è cookies** - –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π** - –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [OWASP API Security Top 10](https://owasp.org/www-project-api-security/)
- [.NET Security Best Practices](https://learn.microsoft.com/en-us/dotnet/standard/security/)
- [SSL Labs SSL Test](https://www.ssllabs.com/ssltest/)
- [Security Headers](https://securityheaders.com/)

## üîÑ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

- **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- **–ï–∂–µ–º–µ—Å—è—á–Ω–æ**: –ü–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ü—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–ª–∏–∑–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- **–ï–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ**: –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

